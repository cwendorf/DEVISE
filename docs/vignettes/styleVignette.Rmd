---
title: "Style Vignette for DEVISE"
output:
  github_document:
    preserve_yaml: FALSE
vignette: >
  %\VignetteIndexEntry{Style Vignette for DEVISE}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include=FALSE}
knitr::opts_chunk$set(comment = NA)
devtools::source_gist("8e6e5dc401e3fc1042ef7a030f9d19c7", filename = "revised_toc.R")
```

## Style Vignette for DEVISE

This vignette explains the project-wide convention of using forward assignment (`->`) and pipe operators (`|>`) to keep examples readable and consistent. The goal is to read code left-to-right, from data creation to analysis to output.

```{r toc, echo=FALSE}
knitr::current_input() -> thisfile
revised_toc(thisfile, base_level = 3, toc_depth = 4)
```

---

### Load the Packages

```{r, include=FALSE}
if (!require(remotes)) install.packages("remotes")

if (!require(DEVISE)) {remotes::install_github("cwendorf/DEVISE")}
library(DEVISE)
```

### Guiding Principles

- **Read left-to-right:** values are computed first and then assigned with `->`.
- **Keep data flowing:** pipelines with `|>` show step-by-step transformations.
- **Minimize visual backtracking:** avoid left assignment (`<-`) inside examples.

### Forward Assignment Basics

Use `->` to store objects after they are computed. This keeps the focus on the computation itself.

```{r}
data.frame(
  Group = create_groups(k = 2, c(5, 5), labels = c("Group1", "Group2")),
  Quiz = c(5, 6, 7, 5, 6, 8, 9, 7, 8, 9),
  Exam = c(8, 7, 9, 6, 7, 10, 9, 9, 8, 10)
) -> df

df |> compute_descriptives(Quiz, Exam) -> descriptives
descriptives |> style_matrix(title = "Table 1: Descriptive Statistics", style = "apa")
```

### Pipe-First Workflow

Pipes help express a sequence of operations without temporary variables.

```{r}
df |> compute_descriptives(Quiz ~ Group)
df |> compute_descriptives(Quiz ~ Group) |> style_matrix(title = "Table 2: Descriptive Statistics by Group", style = "apa")

df |> compute_correlations(Quiz, Exam)
df |> compute_correlations(Quiz, Exam) |> style_matrix(title = "Table 3: Correlation Matrix", style = "apa")
```
